(()=>{var e={};e.id=3028,e.ids=[3028],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},76162:e=>{"use strict";e.exports=require("stream")},74026:e=>{"use strict";e.exports=require("string_decoder")},82452:e=>{"use strict";e.exports=require("tls")},71568:e=>{"use strict";e.exports=require("zlib")},44976:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>g,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(20218),s(53817),s(35866);var t=s(23191),a=s(88716),i=s(37922),l=s.n(i),o=s(95231),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);s.d(r,n);let d=["",{children:["directory",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,20218)),"F:\\2026 - Portfolio\\green-directory\\green-directory\\src\\app\\directory\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,53817)),"F:\\2026 - Portfolio\\green-directory\\green-directory\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["F:\\2026 - Portfolio\\green-directory\\green-directory\\src\\app\\directory\\page.tsx"],g="/directory/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/directory/page",pathname:"/directory",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},69728:(e,r,s)=>{Promise.resolve().then(s.bind(s,69328))},69328:(e,r,s)=>{"use strict";s.d(r,{default:()=>n});var t=s(10326),a=s(17577),i=s(41154),l=s(96130),o=s(98206);function n({businesses:e,categories:r,badges:s}){let[n,d]=(0,a.useState)("grid"),[c,g]=(0,a.useState)("all"),[u,x]=(0,a.useState)("all"),[m,p]=(0,a.useState)(""),y=e.filter(e=>"all"===c||e.categoryId===c).filter(e=>"all"===u||e.badgeIds.includes(u)).filter(e=>""===m||e.name.toLowerCase().includes(m.toLowerCase())||e.tagline.toLowerCase().includes(m.toLowerCase()));return(0,t.jsxs)(t.Fragment,{children:[t.jsx(i.default,{}),(0,t.jsxs)("main",{className:"min-h-screen bg-stone-50",children:[t.jsx("section",{className:"bg-white border-b border-gray-200 py-12 px-4",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[t.jsx("h1",{className:"font-display text-4xl font-bold text-gray-900 mb-4",children:"Sustainable Business Directory"}),(0,t.jsxs)("p",{className:"text-lg text-gray-600 mb-6",children:["Discover ",e.length," verified eco-conscious businesses"]}),t.jsx("div",{className:"max-w-2xl",children:t.jsx(o.SearchBar,{onSearch:p})})]})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[t.jsx("aside",{className:"lg:w-64 flex-shrink-0",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm sticky top-20",children:[t.jsx("h3",{className:"font-display font-bold text-lg mb-4",children:"Filters"}),(0,t.jsxs)("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"View"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>d("grid"),className:`flex-1 py-2 px-4 rounded-lg transition-all ${"grid"===n?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Grid"}),t.jsx("button",{onClick:()=>d("list"),className:`flex-1 py-2 px-4 rounded-lg transition-all ${"list"===n?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"List"})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category"}),(0,t.jsxs)("select",{value:c,onChange:e=>g(e.target.value),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-xl focus:border-emerald-500 focus:outline-none",children:[t.jsx("option",{value:"all",children:"All Categories"}),r.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Certifications"}),(0,t.jsxs)("select",{value:u,onChange:e=>x(e.target.value),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-xl focus:border-emerald-500 focus:outline-none",children:[t.jsx("option",{value:"all",children:"All Certifications"}),s.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))]})]}),("all"!==c||"all"!==u||m)&&t.jsx("button",{onClick:()=>{g("all"),x("all"),p("")},className:"w-full py-2 px-4 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-all",children:"Clear Filters"})]})}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("div",{className:"mb-4 flex items-center justify-between",children:(0,t.jsxs)("p",{className:"text-gray-600",children:["Showing ",y.length," ",1===y.length?"business":"businesses"]})}),0===y.length?(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-12 text-center",children:[t.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDD0D"}),t.jsx("h3",{className:"font-display text-2xl font-bold text-gray-900 mb-2",children:"No businesses found"}),t.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or search query"})]}):t.jsx("div",{className:"grid"===n?"grid grid-cols-1 md:grid-cols-2 gap-6":"space-y-6",children:y.map(e=>t.jsx(o.BusinessCard,{business:{id:e.id,slug:e.slug,name:e.name,tagline:e.tagline,coverImage:e.coverImage,logo:e.logo,featured:e.featured,likes:e.likes,categoryId:e.categoryId,badges:e.badgeIds,location:{city:e.city,address:"",postcode:""}},category:e.category,badges:e.badges,averageRating:0,reviewCount:0},e.id))})]})]})})]}),t.jsx(l.Z,{})]})}},20218:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});var t=s(19510),a=s(13538);let i=(0,s(68570).createProxy)(String.raw`F:\2026 - Portfolio\green-directory\green-directory\src\app\directory\DirectoryClient.tsx#default`);async function l(){let[e,r,s]=await Promise.all([a._.business.findMany({where:{status:"approved"},include:{category:{select:{id:!0,name:!0,icon:!0}},badges:{include:{badge:!0}}},orderBy:{createdAt:"desc"}}),a._.category.findMany({select:{id:!0,name:!0,icon:!0},orderBy:{name:"asc"}}),a._.badge.findMany({select:{id:!0,name:!0,icon:!0,color:!0},orderBy:{name:"asc"}})]),l=e.map(e=>{var r,s;let t=(r=e.location)&&"object"==typeof r&&!Array.isArray(r)?r:{};return{id:e.id,slug:e.slug,name:e.name,tagline:e.tagline,coverImage:e.coverImage,logo:e.logo,featured:e.featured,likes:e.likes,categoryId:e.categoryId,city:"string"==typeof(s=t.city)?s:"",badgeIds:e.badges.map(e=>e.badgeId),category:e.category,badges:e.badges.map(e=>e.badge)}});return t.jsx(i,{businesses:l,categories:r,badges:s})}},13538:(e,r,s)=>{"use strict";s.d(r,{_:()=>n});var t=s(45218),a=s(53524);let i=globalThis,l=process.env.DATABASE_URL;if(!l)throw Error("DATABASE_URL is not set");let o=new t.N(l),n=i.prisma??new a.PrismaClient({adapter:o,log:["error","warn"]})}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[9276,4471,434,5218,5202,8206,5591],()=>s(44976));module.exports=t})();